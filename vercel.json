interface BuildCommand {
    command: string;
    output?: string;
}

interface EnvVariables {
    [key: string]: string | undefined;
}

interface HeaderRule {
    source: string;
    headers: Array<{ key: string; value: string }>;
}

interface CacheStrategy {
    matchPattern: string;
    cacheControl: string;
}

interface FrameworkSettings {
    vercel?: { [key: string]: any };
    netlify?: { [key: string]: any };
}

interface DeployConfig {
    build: BuildCommand;
    env: EnvVariables;
    headers: Array<HeaderRule>;
    cachingStrategies: Array<CacheStrategy>;
    frameworkSettings: FrameworkSettings;
}

export const deployConfig: DeployConfig = {
    build: {
        command: "next build",
        output: ".next"
    },
    env: {
        NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL,
        NEXT_PUBLIC_STRIPE_KEY: process.env.NEXT_PUBLIC_STRIPE_KEY
    },
    headers: [
        {
            source: "/api/:path*",
            headers: [
                { key: "Access-Control-Allow-Credentials", value: "true" },
                { key: "Access-Control-Allow-Origin", value: "*" },
                { key: "Vary", value: "Origin" }
            ]
        }
    ],
    cachingStrategies: [
        {
            matchPattern: "**/*.svg",
            cacheControl: "public, max-age=31536000"
        },
        {
            matchPattern: "/api/:path*",
            cacheControl: "no-store"
        }
    ],
    frameworkSettings: {
        vercel: {
            buildCommand: "next build",
            startCommand: "next start",
            region: "eu-central-1"
        },
        netlify: {
            publish: ".next",
            functions: "functions",
            redirects: "_redirects"
        }
    }
};

interface BuildCommand {
    command: string;
    output?: string;
}

interface EnvVariables {
    [key: string]: string | undefined;
}

interface HeaderRule {
    source: string;
    headers: Array<{ key: string; value: string }>;
}

interface CacheStrategy {
    matchPattern: string;
    cacheControl: string;
}

interface FrameworkSettings {
    vercel?: { [key: string]: any };
    netlify?: { [key: string]: any };
}

interface DeployConfig {
    build: BuildCommand;
    env: EnvVariables;
    headers: Array<HeaderRule>;
    cachingStrategies: Array<CacheStrategy>;
    frameworkSettings: FrameworkSettings;
}

export const deployConfig: DeployConfig = {
    build: {
        command: "next build",
        output: ".next"
    },
    env: {
        NEXT_PUBLIC_API_URL: process.env.NEXT_PUBLIC_API_URL,
        NEXT_PUBLIC_STRIPE_KEY: process.env.NEXT_PUBLIC_STRIPE_KEY
    },
    headers: [
        {
            source: "/api/:path*",
            headers: [
                { key: "Access-Control-Allow-Credentials", value: "true" },
                { key: "Access-Control-Allow-Origin", value: "*" },
                { key: "Vary", value: "Origin" }
            ]
        }
    ],
    cachingStrategies: [
        {
            matchPattern: "**/*.svg",
            cacheControl: "public, max-age=31536000"
        },
        {
            matchPattern: "/api/:path*",
            cacheControl: "no-store"
        }
    ],
    frameworkSettings: {
        vercel: {
            buildCommand: "next build",
            startCommand: "next start",
            region: "eu-central-1"
        },
        netlify: {
            publish: ".next",
            functions: "functions",
            redirects: "_redirects"
        }
    }
};